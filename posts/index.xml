<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on semiosis</title>
        <link>http://semiosis.github.io/posts/</link>
        <description>Recent content in Posts on semiosis</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <copyright>&lt;a href=&#34;https://creativecommons.org/licenses/by-nc/4.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;CC BY-NC 4.0&lt;/a&gt;</copyright>
        <lastBuildDate>Sat, 06 Mar 2021 00:00:00 +1300</lastBuildDate>
        <atom:link href="http://semiosis.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>crontab.guru in emacs and making a prompt with GPT-3 to copy it</title>
            <link>http://semiosis.github.io/posts/crontab-guru-in-emacs/</link>
            <pubDate>Sat, 06 Mar 2021 00:00:00 +1300</pubDate>
            
            <guid>http://semiosis.github.io/posts/crontab-guru-in-emacs/</guid>
            <description>Related https://crontab.guru/ Author http://github.com/mullikine  Summary I build some functionality into emacs to use crontab.guru behind the scenes to interpret tab lines displaying inside of emacs, without using the web browser.
I then build a GPT-3 prompt which does exactly the same thing without crontab.guru and provide the initial script I made to examplary (my GPT-3 DSL) as an example generator, to enhance the prompt if that is needed later.</description>
            <content type="html"><![CDATA[<dl>
<dt>Related</dt>
<dd><a href="https://crontab.guru/">https://crontab.guru/</a></dd>
<dt>Author</dt>
<dd><a href="http://github.com/mullikine">http://github.com/mullikine</a></dd>
</dl>
<h2 id="summary">Summary</h2>
<p>I build some functionality into emacs to use
<code>crontab.guru</code> behind the scenes to interpret
tab lines displaying inside of emacs, without
using the web browser.</p>
<p>I then build a GPT-3 prompt which does exactly
the same thing without <code>crontab.guru</code> and
provide the initial script I made to
<code>examplary</code> (my GPT-3 DSL) as an example
generator, to enhance the prompt if that is
needed later.</p>
<h2 id="initial-steps">Initial steps</h2>
<p>When lines in cron format appear in an emacs
buffer, the <code>crontab-guru</code> function is
suggested, allowing you to easily understand
crontabs.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun buffer-cron-lines ()
  (sor (snc <span style="color:#e6db74">&#34;scrape \&#34;((?:[0-9-/]+|\\\\*)\\\\s+){4}(?:[0-9]+|\\\\*)\&#34;&#34;</span> (<span style="color:#a6e22e">buffer-string</span>))))

(defun chrontab-guru (tab)
  (interactive (<span style="color:#a6e22e">list</span> (fz (buffer-cron-lines))))
  (let ((tab (sed <span style="color:#e6db74">&#34;s/\\s\\+/_/g&#34;</span> tab)))
    (chrome (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;https://crontab.guru/#&#34;</span> tab))))</code></pre></td></tr></table>
</div>
</div>
<h2 id="demonstration">Demonstration</h2>
<p><a title="asciinema recording" href="https://asciinema.org/a/dKU8QGolIthb93F8P29NESdn6" target="_blank"><img alt="asciinema recording" src="https://asciinema.org/a/dKU8QGolIthb93F8P29NESdn6.svg" /></a></p>
<figure>
    <img src="/ox-hugo/crontabguru.png"/> 
</figure>

<h2 id="modify-to-display-the-explanation-inside-emacs">Modify to display the explanation inside emacs</h2>
<ul>
<li>Dump the Google Chrome DOM for the website (since it requires javascript)</li>
<li>Scrape the explanation from the website</li>
<li>Create a new buffer in emacs with the explanation</li>
</ul>
<!--listend-->
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun crontab-guru (tab)
  (interactive (<span style="color:#a6e22e">list</span> (fz (buffer-cron-lines) (if (selectionp) (my/thing-at-point)))))
  (let ((tab (sed <span style="color:#e6db74">&#34;s/\\s\\+/_/g&#34;</span> tab)))
    <span style="color:#75715e">;; (chrome (concat &#34;https://crontab.guru/#&#34; tab))</span>
    (etv (scrape <span style="color:#e6db74">&#34;\&#34;[^\&#34;]*\&#34;&#34;</span> (snc (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;elinks-dump-chrome &#34;</span> (q (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;https://crontab.guru/#&#34;</span> tab))))))))</code></pre></td></tr></table>
</div>
</div>
<h2 id="prompt-gpt-3">Prompt GPT-3</h2>
<p>This script is a <code>string-&gt;string</code> filter
script that scrapes the chrome dom of
<code>crontab.guru</code> to get its result, given the tab as standard input.</p>
<p><span class="underline"><strong>interpret-crontab</strong></span></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span>export TTY

<span style="color:#f92672">(</span> hs <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>basename <span style="color:#e6db74">&#34;</span>$0<span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;</span>$@<span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;#&#34;</span> <span style="color:#e6db74">&#34;&lt;==&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>ps -o comm<span style="color:#f92672">=</span> $PPID<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> 0&lt;/dev/null <span style="color:#f92672">)</span> &amp;&gt;/dev/null

scrape-crontab | awk1 | <span style="color:#66d9ef">while</span> IFS<span style="color:#f92672">=</span><span style="color:#e6db74">$&#39;\n&#39;</span> read -r tab; <span style="color:#66d9ef">do</span>
    <span style="color:#f92672">(</span>
        exec 0&lt;/dev/null
        <span style="color:#66d9ef">if</span> test -n <span style="color:#e6db74">&#34;</span>$tab<span style="color:#e6db74">&#34;</span>; <span style="color:#66d9ef">then</span>
            taburlbit<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>p <span style="color:#e6db74">&#34;</span>$tab<span style="color:#e6db74">&#34;</span> | sed <span style="color:#e6db74">&#34;s/\\s\\+/_/g&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
            elinks-dump-chrome <span style="color:#e6db74">&#34;https://crontab.guru/#</span>$taburlbit<span style="color:#e6db74">&#34;</span> | scrape <span style="color:#e6db74">&#34;\&#34;[^\&#34;]*\&#34;&#34;</span>
        <span style="color:#66d9ef">fi</span>
    <span style="color:#f92672">)</span>
<span style="color:#66d9ef">done</span> | sed -e <span style="color:#e6db74">&#39;s/^&#34;//&#39;</span> -e <span style="color:#e6db74">&#39;s/&#34;$//&#39;</span></code></pre></td></tr></table>
</div>
</div>
<p>The following file is a GPT-3 prompt which
accepts the above <code>interpret-crontab</code> script
as an external function to generate and train
and ultimately replace the prompt.</p>
<p><span class="underline"><strong>crontab-translator.prompt</strong></span></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">title</span>: <span style="color:#e6db74">&#34;crontab translator&#34;</span>
<span style="color:#f92672">prompt</span>: |+<span style="color:#e6db74">
</span><span style="color:#e6db74">  crontab
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  17 *	* * *
</span><span style="color:#e6db74">  At minute 17.
</span><span style="color:#e6db74">  ###
</span><span style="color:#e6db74">  25 6	* * *
</span><span style="color:#e6db74">  At 06:25.
</span><span style="color:#e6db74">  ###
</span><span style="color:#e6db74">  47 6	* * 7
</span><span style="color:#e6db74">  At 06:47 on Sunday.
</span><span style="color:#e6db74">  ###
</span><span style="color:#e6db74">  52 6	1 * *
</span><span style="color:#e6db74">  At 06:52 on day-of-month 1.
</span><span style="color:#e6db74">  &lt;1&gt;</span>  
<span style="color:#f92672">engine</span>: <span style="color:#e6db74">&#34;davinci&#34;</span>
<span style="color:#f92672">temperature</span>: <span style="color:#ae81ff">0.3</span>
<span style="color:#f92672">max-tokens</span>: <span style="color:#ae81ff">60</span>
<span style="color:#f92672">top-p</span>: <span style="color:#ae81ff">1.0</span>
<span style="color:#f92672">frequency-penalty</span>: <span style="color:#ae81ff">0.5</span>
<span style="color:#75715e"># If I make presence-penalty 0 then it will get very terse</span>
<span style="color:#f92672">presence-penalty</span>: <span style="color:#ae81ff">0.0</span>
<span style="color:#f92672">best-of</span>: <span style="color:#ae81ff">1</span>
<span style="color:#f92672">stop-sequences</span>:
- <span style="color:#e6db74">&#34;###&#34;</span>
<span style="color:#f92672">inject-start-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">inject-restart-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">show-probabilities</span>: <span style="color:#66d9ef">off</span>
<span style="color:#f92672">vars</span>:
- <span style="color:#e6db74">&#34;tab&#34;</span>
<span style="color:#f92672">examples</span>:
- <span style="color:#e6db74">&#34;30 7    * * *&#34;</span>
<span style="color:#f92672">external</span>: <span style="color:#e6db74">&#34;interpret-crontab&#34;</span>
<span style="color:#f92672">filter</span>: <span style="color:#66d9ef">no</span>
<span style="color:#75715e"># Keep stitching together until reaching this limit</span>
<span style="color:#75715e"># This allows a full response for answers which may need n*max-tokens to reach the stop-sequence.</span>
<span style="color:#f92672">stitch-max</span>: <span style="color:#ae81ff">0</span></code></pre></td></tr></table>
</div>
</div>
<p>Example output from GPT-3:</p>
<dl>
<dt>Input tab</dt>
<dd><code>15 7    * * *</code></dd>
<dt>GPT-3 output</dt>
<dd><code>On day-of-week 7, at 15:00.</code></dd>
</dl>
<h2 id="moral-of-the-story">Moral of the story</h2>
<p>The moral of the story is that if a person
builds a website like crontab.guru, its
functionality actually becomes learned by the
next iteration of GPT and then its
functionality is able to be reproduced.</p>
]]></content>
        </item>
        
        <item>
            <title>Creating a playground for GPT-3 in emacs</title>
            <link>http://semiosis.github.io/posts/creating-a-playground-for-gpt-3-in-emacs/</link>
            <pubDate>Thu, 18 Feb 2021 00:00:00 +1300</pubDate>
            
            <guid>http://semiosis.github.io/posts/creating-a-playground-for-gpt-3-in-emacs/</guid>
            <description>Code https://github.com/mullikine/pen.el Prompts https://github.com/mullikine/prompts meetup.com event https://www.meetup.com/Code-Craft-Dunedin/events/276407816/ Slides http://github.com/mullikine/presentation-prompt-engineering-in-emacs/blob/master/presentation.pdf  Demonstration 
Prompt-Engineering Part 1: Building an environment Summary of talk I received a key for the OpenAI API 2 weeks ago, just a couple of days before my birthday.
I had applied around 5 to 10 times in the last year and I had finally been given a key.
I decided since the hour is late I would work on productivity tools that anyone can use, to facilitate programming in the new paradigm.</description>
            <content type="html"><![CDATA[<dl>
<dt>Code</dt>
<dd><a href="https://github.com/mullikine/pen.el">https://github.com/mullikine/pen.el</a></dd>
<dt>Prompts</dt>
<dd><a href="https://github.com/mullikine/prompts">https://github.com/mullikine/prompts</a></dd>
<dt><code>meetup.com</code> event</dt>
<dd><a href="https://www.meetup.com/Code-Craft-Dunedin/events/276407816/">https://www.meetup.com/Code-Craft-Dunedin/events/276407816/</a></dd>
<dt>Slides</dt>
<dd><a href="http://github.com/mullikine/presentation-prompt-engineering-in-emacs/blob/master/presentation.pdf">http://github.com/mullikine/presentation-prompt-engineering-in-emacs/blob/master/presentation.pdf</a></dd>
</dl>
<h3 id="demonstration">Demonstration</h3>
<p><a title="asciinema recording" href="https://asciinema.org/a/t7ATnFpnfzBp0yicIlGCt6eXi" target="_blank"><img alt="asciinema recording" src="https://asciinema.org/a/t7ATnFpnfzBp0yicIlGCt6eXi.svg" /></a></p>
<h2 id="prompt-engineering-part-1-building-an-environment"><strong>Prompt-Engineering Part 1:</strong> Building an environment</h2>
<h3 id="summary-of-talk">Summary of talk</h3>
<p>I received a key for the <code>OpenAI</code> API 2 weeks ago, just a couple
of days before my birthday.</p>
<p>I had applied around 5 to 10 times in the last
year and I had finally been given a key.</p>
<p>I decided since the hour is late I would work
on productivity tools that anyone can use, to
facilitate programming in the new paradigm.</p>
<h3 id="pen-dot-el-prompt-engineering-in-emacs"><code>pen.el</code> : Prompt engineering in emacs</h3>
<h4 id="prompt-engineer-mode"><code>prompt-engineer-mode</code></h4>
<p>Prompt-Engineer Mode is a global minor mode for emacs that facilitates the
creation, development, discovery and usage of prompts in your emacs.</p>
<ul>
<li>Create elisp functions based on GPT-3 prompts</li>
<li>Chain GPT-3 queries together using keyboard macros and functions</li>
<li>Interactively query, generate and transfrom both prose and code</li>
<li>Use GPT-3 as a search engine within emacs
<ul>
<li>Search the internet</li>
<li>Search documents
<ul>
<li><a href="https://beta.openai.com/docs/introduction/semantic-search">https://beta.openai.com/docs/introduction/semantic-search</a></li>
<li><a href="https://gpttools.com/semanticsearch">https://gpttools.com/semanticsearch</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="works-with">Works with</h3>
<ul>
<li>OpenAI API (GPT-3)
<ul>
<li><a href="https://beta.openai.com/">https://beta.openai.com/</a></li>
</ul>
</li>
</ul>
<h4 id="planned">Planned</h4>
<ul>
<li><code>openai-server</code> (GPT-2)
<ul>
<li><a href="https://github.com/shawwn/openai-server">https://github.com/shawwn/openai-server</a></li>
<li>Requires tensorflow 1</li>
</ul>
</li>
<li>DeepAI API
<ul>
<li><a href="https://deepai.org/">https://deepai.org/</a></li>
</ul>
</li>
<li>OpenAI API (GPT-4)
<ul>
<li><a href="https://beta.openai.com/">https://beta.openai.com/</a></li>
</ul>
</li>
</ul>
<h3 id="usage-workflow">Usage / Workflow</h3>
<ul>
<li>Enable <code>prompt-engineerer-mode</code> globally (on all buffers)</li>
<li>Have your <code>.prompt</code> file open in one window</li>
<li>Have the document open you want to apply prompt functions to
<ul>
<li>This could be source code, a chat window, or any kind of text document.</li>
</ul>
</li>
<li>Apply functions to do all sorts of things
<ul>
<li>Summarization</li>
<li>Generation of prose</li>
<li>Generation of code</li>
<li>Translation</li>
</ul>
</li>
</ul>
<h3 id="defining-a-yaml-format">Defining a <code>YAML</code> format</h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#75715e"># lines are wrapped, but not in actual prompt</span>

<span style="color:#f92672">title</span>: <span style="color:#e6db74">&#34;complicated explanation of how to X&#34;</span>
<span style="color:#f92672">prompt</span>: |+<span style="color:#e6db74">
</span><span style="color:#e6db74">  The human asks the AI to make a simple
</span><span style="color:#e6db74">      description more complicated. The AI
</span><span style="color:#e6db74">      responds by writing a verbose response full
</span><span style="color:#e6db74">      of jargon to explain a simple concept.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  Human: explain how to use a drinking
</span><span style="color:#e6db74">      fountain.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  AI: To activate the mechanized dihydrogen
</span><span style="color:#e6db74">      monoxide dispensary service station, use the
</span><span style="color:#e6db74">      flanges to provide a downward force to the
</span><span style="color:#e6db74">      simple circular activation console and
</span><span style="color:#e6db74">      continue to apply force until the pneumatic
</span><span style="color:#e6db74">      system begins operating as intended, which
</span><span style="color:#e6db74">      can be surmised at a time when the
</span><span style="color:#e6db74">      dihydrogen monoxide travels in a parabolic
</span><span style="color:#e6db74">      arc which at is greatest exceeds three
</span><span style="color:#e6db74">      inches from the rounded excess liquid
</span><span style="color:#e6db74">      receptacle. Once hydration is completed,
</span><span style="color:#e6db74">      cease applying force to the console and
</span><span style="color:#e6db74">      regard whether or not the dispensary has
</span><span style="color:#e6db74">      ceased expelling contents as expected.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  Human: explain how to play with a dog
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  AI: Being a typical domesticated animal,
</span><span style="color:#e6db74">      having been genetically selected for
</span><span style="color:#e6db74">      controllability, trainability, and general
</span><span style="color:#e6db74">      anthropomorphic features and functions, the
</span><span style="color:#e6db74">      typical dog possesses highly specialized and
</span><span style="color:#e6db74">      developed feeding behavior. The typical
</span><span style="color:#e6db74">      feeding behavior involves routine sustenance
</span><span style="color:#e6db74">      intake which can be observed by monitoring
</span><span style="color:#e6db74">      changes in animal size. Routine sustenance
</span><span style="color:#e6db74">      intake involves active and passive feeding
</span><span style="color:#e6db74">      habits, and one can gauge animal health by
</span><span style="color:#e6db74">      observing the relative levels of hydration.
</span><span style="color:#e6db74">      During training, reward conditioned
</span><span style="color:#e6db74">      reinforcement is applied. This involves the
</span><span style="color:#e6db74">      practice of rewarding targeted behaviors
</span><span style="color:#e6db74">      through the application of reinforcers, with
</span><span style="color:#e6db74">      the provision that the targeted behavior is
</span><span style="color:#e6db74">      observed. Relevant to the discussion at hand
</span><span style="color:#e6db74">      is the typical active and passive behavior
</span><span style="color:#e6db74">      exhibited by a typical dog.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  Human: explain how to &lt;1&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  AI:</span>  
<span style="color:#f92672">engine</span>: <span style="color:#e6db74">&#34;davinci&#34;</span>
<span style="color:#f92672">temperature</span>: <span style="color:#ae81ff">0.8</span>
<span style="color:#f92672">max-tokens</span>: <span style="color:#ae81ff">100</span>
<span style="color:#f92672">top-p</span>: <span style="color:#ae81ff">1</span>
<span style="color:#f92672">frequency-penalty</span>: <span style="color:#ae81ff">0.2</span>
<span style="color:#f92672">presence-penalty</span>: <span style="color:#ae81ff">0.4</span>
<span style="color:#f92672">best-of</span>: <span style="color:#ae81ff">1</span>
<span style="color:#f92672">stop-sequences</span>:
  - <span style="color:#e6db74">&#34;\n&#34;</span>
<span style="color:#f92672">inject-start-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">inject-restart-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">show-probabilities</span>: <span style="color:#66d9ef">off</span>
<span style="color:#f92672">vars</span>:
  - <span style="color:#e6db74">&#34;passage&#34;</span></code></pre></td></tr></table>
</div>
</div>
<h3 id="code-generation">Code generation</h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun pen-generate-prompt-functions ()
  <span style="color:#e6db74">&#34;Generate prompt functions for the files in the prompts directory&#34;</span>
  (interactive)
  (let ((paths
         (glob (<span style="color:#a6e22e">concat</span> pen-prompt-directory <span style="color:#e6db74">&#34;/*.prompt&#34;</span>))))
    (cl-loop for path in paths do
             <span style="color:#75715e">;; results in a hash table</span>
             (let* ((yaml (yamlmod-read-file path))
                    (title (ht-get yaml <span style="color:#e6db74">&#34;title&#34;</span>))
                    (title-slug (slugify title))
                    (vars (vector2list (ht-get yaml <span style="color:#e6db74">&#34;vars&#34;</span>)))
                    (var-slugs (<span style="color:#a6e22e">mapcar</span> <span style="color:#e6db74">&#39;slugify</span> vars))
                    (var-syms (<span style="color:#a6e22e">mapcar</span> <span style="color:#e6db74">&#39;str2sym</span> var-slugs))
                    (func-name (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;pen-&#34;</span> title-slug))
                    (iargs (let ((iteration <span style="color:#ae81ff">0</span>))
                             (cl-loop for v in vars do
                                      (progn
                                        (setq iteration (<span style="color:#a6e22e">+</span> <span style="color:#ae81ff">1</span> iteration))
                                        (<span style="color:#a6e22e">message</span> (str iteration)))
                                      collect
                                      (if (<span style="color:#a6e22e">equal</span> <span style="color:#ae81ff">1</span> iteration)
                                          <span style="color:#75715e">;; The first argument may be captured through selection</span>
                                          <span style="color:#f92672">`</span>(if (selectionp)
                                               (my/selected-text)
                                             (read-string-hist <span style="color:#f92672">,</span>(<span style="color:#a6e22e">concat</span> v <span style="color:#e6db74">&#34;: &#34;</span>)))
                                        <span style="color:#f92672">`</span>(read-string-hist <span style="color:#f92672">,</span>(<span style="color:#a6e22e">concat</span> v <span style="color:#e6db74">&#34;: &#34;</span>)))))))
               <span style="color:#75715e">;; var names will have to be slugged, too</span>
               (<span style="color:#a6e22e">eval</span>
                <span style="color:#f92672">`</span>(defun <span style="color:#f92672">,</span>(str2sym func-name) <span style="color:#f92672">,</span>var-syms
                   (interactive <span style="color:#f92672">,</span>(<span style="color:#a6e22e">cons</span> <span style="color:#e6db74">&#39;list</span> iargs))
                   (etv (chomp (sn <span style="color:#f92672">,</span>(flatten-once
                                     (<span style="color:#a6e22e">list</span>
                                      (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;concat</span> <span style="color:#e6db74">&#34;openai-complete &#34;</span> (q path))
                                      (flatten-once (cl-loop for vs in var-slugs collect
                                                             (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#34; &#34;</span>
                                                                   (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;q</span> (str2sym vs))))))))))))
               (<span style="color:#a6e22e">message</span> (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;pen-mode: Loaded prompt function &#34;</span> func-name))))))</code></pre></td></tr></table>
</div>
</div>
<h3 id="appendix">Appendix</h3>
<p><a href="https://www.google.com/search?q=prompt+engineering+gpt">Prompt Engineering</a></p>
<h3 id="examples">Examples</h3>
<h4 id="create-analogy">Create analogy</h4>
<!--list-separator-->
<ul>
<li>
<p>earth is like the universe</p>
<p>they are both governed by the laws of physics.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>vim is like emacs</p>
<p>both are computer text editors.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Cars are like trains</p>
<p>both travel on tracks.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>dolphins are like people</p>
<p>They are both members of the class Mammalia.</p>
</li>
</ul>
<h4 id="abstractive-summarization">abstractive summarization</h4>
<!--list-separator-->
<ul>
<li>
<p>computers</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">    Early computers were only conceived as
    calculating devices. Since ancient times,
    simple manual devices like the abacus aided
    people in doing calculations. Early in the
    Industrial Revolution, some mechanical devices
    were built to automate long tedious tasks,
    such as guiding patterns for looms. More
    sophisticated electrical machines did
    specialized analog calculations in the early
    20th century. The first digital electronic
    calculating machines were developed during
    World War II. The first semiconductor
    transistors in the late 1940s were followed by
    the silicon-based MOSFET (MOS transistor) and
    monolithic integrated circuit (IC) chip
    technologies in the late 1950s, leading to the
    microprocessor and the microcomputer
    revolution in the 1970s. The speed, power and
    versatility of computers have been increasing
    dramatically ever since then, with transistor
    counts increasing at a rapid pace (as
    predicted by Moore&#39;s law), leading to the
    Digital Revolution during the late 20th to
    early 21st centuries.
    </code></pre></td></tr></table>
</div>
</div>
 <!--list-separator-->
<ul>
<li>
<p>Simplification 1</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">        Computers were invented to do math. Before
        computers, people used a tool called a slide
        rule to do math. Slide rules were hard to use,
        so people invented a new tool called a
        calculator. Calculators were hard to use, so
        people invented a new tool called a computer.
        Computers were hard to use, so people invented
        a new tool called a computer with a screen.
        Computers with screens were hard to use, so
        people invented a new tool called a computer
        you can touch
        </code></pre></td></tr></table>
</div>
</div>
</li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>Simplification 2 &ndash; I like this one</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">        Computers were invented to help people do math.
        People have been using simple machines like the abacus to help them do math for a long time.
        More complicated machines helped people do math faster.
        Now people can do math faster with computers.
        </code></pre></td></tr></table>
</div>
</div>
</li>
</ul>
</li>
</ul>
<h3 id="back-end">Back-end</h3>
<h4 id="shell">shell</h4>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">81
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span>export TTY

<span style="color:#f92672">(</span> hs <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>basename <span style="color:#e6db74">&#34;</span>$0<span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;</span>$@<span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;#&#34;</span> <span style="color:#e6db74">&#34;&lt;==&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>ps -o comm<span style="color:#f92672">=</span> $PPID<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> 0&lt;/dev/null <span style="color:#f92672">)</span> &amp;&gt;/dev/null

first_arg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span>

stdin_exists<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    ! <span style="color:#f92672">[</span> -t <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> ! test <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>readlink /proc/$$/fd/0<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">=</span> /dev/null
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">if</span> stdin_exists; <span style="color:#66d9ef">then</span>
    <span style="color:#75715e"># The stdin can be the first argument</span>
    set -- <span style="color:#e6db74">&#34;</span>$@<span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat | chomp<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">fi</span>

test -f <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">||</span> exit
shift

prompt<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> | yq -r <span style="color:#e6db74">&#34;.prompt // empty&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
stop_sequence<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> | yq <span style="color:#e6db74">&#34;.\&#34;stop-sequences\&#34;[0] // empty&#34;</span> | uq | qne<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
temperature<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> | yq -r <span style="color:#e6db74">&#34;.\&#34;temperature\&#34; // empty&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
engine<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> | yq -r <span style="color:#e6db74">&#34;.\&#34;engine\&#34; // empty&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
max_tokens<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> | yq -r <span style="color:#e6db74">&#34;.\&#34;max-tokens\&#34; // empty&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
top_p<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> | yq -r <span style="color:#e6db74">&#34;.\&#34;top-p\&#34; // empty&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

test -n <span style="color:#e6db74">&#34;</span>$prompt<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">||</span> exit <span style="color:#ae81ff">0</span>

<span style="color:#66d9ef">while</span> <span style="color:#f92672">[</span> $# -gt <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">do</span> opt<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span>; <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;</span>$opt<span style="color:#e6db74">&#34;</span> in
    <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span> shift; <span style="color:#f92672">}</span>; ;;
    -e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        engine<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$2<span style="color:#e6db74">&#34;</span>
        shift
        shift
    <span style="color:#f92672">}</span>
    ;;

    *<span style="color:#f92672">)</span> break;
<span style="color:#66d9ef">esac</span>; <span style="color:#66d9ef">done</span>

: <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>engine:=<span style="color:#e6db74">&#34;ada&#34;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
: <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>temperature:=<span style="color:#e6db74">&#34;0.6&#34;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
: <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>max_tokens:=<span style="color:#e6db74">&#34;64&#34;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>

: <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>sub_completions:=<span style="color:#e6db74">&#34;1&#34;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>

i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">for</span> var in <span style="color:#e6db74">&#34;</span>$@<span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">do</span>
    var<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>printf -- <span style="color:#e6db74">&#34;%s&#34;</span> <span style="color:#e6db74">&#34;</span>$var<span style="color:#e6db74">&#34;</span> | uq | chomp<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
    prompt<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>p <span style="color:#e6db74">&#34;</span>$prompt<span style="color:#e6db74">&#34;</span> | template -$i <span style="color:#e6db74">&#34;</span>$var<span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
    <span style="color:#f92672">((</span>i++<span style="color:#f92672">))</span>
<span style="color:#66d9ef">done</span>

prompt_fp<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>printf -- <span style="color:#e6db74">&#34;%s&#34;</span> <span style="color:#e6db74">&#34;</span>$prompt<span style="color:#e6db74">&#34;</span> | chomp | tf<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

<span style="color:#75715e"># printf -- &#34;%s\n&#34; &#34;$prompt&#34; | tv</span>

prompt<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>p <span style="color:#e6db74">&#34;</span>$prompt<span style="color:#e6db74">&#34;</span> | qne<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

IFS<span style="color:#f92672">=</span> read -r -d <span style="color:#e6db74">&#39;&#39;</span> SHCODE <span style="color:#e6db74">&lt;&lt;HEREDOC
</span><span style="color:#e6db74">openai api \
</span><span style="color:#e6db74">    completions.create \
</span><span style="color:#e6db74">    -e &#34;$engine&#34; \
</span><span style="color:#e6db74">    -t &#34;$temperature&#34; \
</span><span style="color:#e6db74">    -M &#34;$max_tokens&#34; \
</span><span style="color:#e6db74">    -n &#34;$sub_completions&#34; \
</span><span style="color:#e6db74">    $(
</span><span style="color:#e6db74">        if test -n &#34;$stop_sequence&#34;; then
</span><span style="color:#e6db74">            printf -- &#34;%s&#34; &#34;--stop \&#34;$stop_sequence\&#34;&#34;
</span><span style="color:#e6db74">        fi
</span><span style="color:#e6db74">    ) \
</span><span style="color:#e6db74">    -p &#34;$prompt&#34;
</span><span style="color:#e6db74">HEREDOC</span>

response_fp<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>eval <span style="color:#e6db74">&#34;</span>$SHCODE<span style="color:#e6db74">&#34;</span> | uq | s chomp | tf txt<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

prompt_bytes<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$prompt_fp<span style="color:#e6db74">&#34;</span> | wc -c<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
response_bytes<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$response_fp<span style="color:#e6db74">&#34;</span> | wc -c<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

tail -c +<span style="color:#66d9ef">$((</span>prompt_bytes <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span><span style="color:#66d9ef">))</span> <span style="color:#e6db74">&#34;</span>$response_fp<span style="color:#e6db74">&#34;</span></code></pre></td></tr></table>
</div>
</div>
<h3 id="additional-reading">Additional reading</h3>
<ul>
<li><a href="https://www.overfit.ai/classroom-items/gpt-3-text-to-emoji">https://www.overfit.ai/classroom-items/gpt-3-text-to-emoji</a></li>
<li><a href="https://www.gwern.net/GPT-3">https://www.gwern.net/GPT-3</a></li>
<li><a href="https://matthewmcateer.me/blog/messing-with-gpt-3/">https://matthewmcateer.me/blog/messing-with-gpt-3/</a></li>
<li><a href="https://youtu.be/fTvB5xMNfTY">#029 GPT-3, Prompt Engineering, Trading, AI Alignment, Intelligence - YouTube</a></li>
<li><a href="https://github.com/mullikine/examplary">https://github.com/mullikine/examplary</a></li>
<li><a href="https://github.com/mullikine/prompt-engineer-mode">https://github.com/mullikine/prompt-engineer-mode</a></li>
<li><a href="http://github.com/mullikine/fine-tuning-gpt-3/puns/">http://github.com/mullikine/fine-tuning-gpt-3/puns/</a></li>
</ul>
]]></content>
        </item>
        
    </channel>
</rss>
