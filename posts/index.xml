<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on semiosis</title>
        <link>http://semiosis.github.io/posts/</link>
        <description>Recent content in Posts on semiosis</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <copyright>&lt;a href=&#34;https://creativecommons.org/licenses/by-nc/4.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;CC BY-NC 4.0&lt;/a&gt;</copyright>
        <lastBuildDate>Tue, 09 Mar 2021 00:00:00 +1300</lastBuildDate>
        <atom:link href="http://semiosis.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>Context menus based on GPT-3</title>
            <link>http://semiosis.github.io/posts/context-menus-based-on-gpt-3/</link>
            <pubDate>Tue, 09 Mar 2021 00:00:00 +1300</pubDate>
            
            <guid>http://semiosis.github.io/posts/context-menus-based-on-gpt-3/</guid>
            <description>Summary I create a GPT-3 prompt for testing to see if code is Haskell and use it as a test inside emacs to suggest further functions.
 Prompt file http://github.com/semiosis/prompts/blob/master/prompts/text-is-haskell.prompt  Demonstration As you can see, GPT-3 is able to detect the language and I can use that as a test in my emacs to provide further functions. The suggested function was yet another GPT-3 prompt function for translating Haskell into Clojure.</description>
            <content type="html"><![CDATA[<h2 id="summary">Summary</h2>
<p>I create a GPT-3 prompt for testing to see if
code is Haskell and use it as a test inside
emacs to suggest further functions.</p>
<dl>
<dt>Prompt file</dt>
<dd><a href="http://github.com/semiosis/prompts/blob/master/prompts/text-is-haskell.prompt">http://github.com/semiosis/prompts/blob/master/prompts/text-is-haskell.prompt</a></dd>
</dl>
<h2 id="demonstration">Demonstration</h2>
<p>As you can see, GPT-3 is able to detect the
language and I can use that as a test in my
emacs to provide further functions. The
suggested function was yet another GPT-3
prompt function for translating Haskell into
Clojure.</p>
<p><a title="asciinema recording" href="https://asciinema.org/a/IUrbnMxTqP3cFtQB5CPWelCuP" target="_blank"><img alt="asciinema recording" src="https://asciinema.org/a/IUrbnMxTqP3cFtQB5CPWelCuP.svg" /></a></p>
<p><span class="underline"><strong>The faster and more impressive version</strong></span>
This uses emacs' <code>language-detection</code> package.</p>
<p><a title="asciinema recording" href="https://asciinema.org/a/64hjDdeeqkhTEzZA9RvYjKyy9" target="_blank"><img alt="asciinema recording" src="https://asciinema.org/a/64hjDdeeqkhTEzZA9RvYjKyy9.svg" /></a></p>
<h2 id="create-a-prompt-to-check-if-selected-code-is-haskell">Create a prompt to check if selected code is Haskell</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">title</span>: <span style="color:#e6db74">&#34;test if text is haskell&#34;</span>
<span style="color:#f92672">doc</span>: <span style="color:#e6db74">&#34;tests if text is haskell code&#34;</span>
<span style="color:#f92672">prompt</span>: |+<span style="color:#e6db74">
</span><span style="color:#e6db74">    If the code is haskell, respond with &#34;Haskell&#34;. If the query is not haskell, respond with &#34;?&#34;.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    ###
</span><span style="color:#e6db74">    Code:putStrLn &#34;What is your name?&#34;
</span><span style="color:#e6db74">    Language:Haskell
</span><span style="color:#e6db74">    ###
</span><span style="color:#e6db74">    Code:[1,2,3,4] ++ [9,10,11,12]
</span><span style="color:#e6db74">    Language:Haskell
</span><span style="color:#e6db74">    ###
</span><span style="color:#e6db74">    Code:In reality, it would require too much code to hide _Prelude_ clashes like this, so you
</span><span style="color:#e6db74">    Language:?
</span><span style="color:#e6db74">    ###
</span><span style="color:#e6db74">    Code:data Shape = Circle Float Float Float | Rectangle Float Float Float Float deriving (Show)
</span><span style="color:#e6db74">    Language:Haskell
</span><span style="color:#e6db74">    ###
</span><span style="color:#e6db74">    Code:In reality, it would require too much code to hide _Prelude_ clashes like this, so you
</span><span style="color:#e6db74">    ###
</span><span style="color:#e6db74">    Code:(ns example.pprinter (:use clojure.pprint))
</span><span style="color:#e6db74">    Language:?
</span><span style="color:#e6db74">    ###
</span><span style="color:#e6db74">    Code:surface (Rectangle (Point x1 y1) (Point x2 y2)) = (abs $ x2 - x1) * (abs $ y2 - y1)
</span><span style="color:#e6db74">    Language:Haskell
</span><span style="color:#e6db74">    ###
</span><span style="color:#e6db74">    Code:&#34;Steve Buscemi&#34; !! 6
</span><span style="color:#e6db74">    Language:Haskell
</span><span style="color:#e6db74">    ###
</span><span style="color:#e6db74">    Code:regex = re.compile(r&#39;^(?P&lt;indent&gt;(?: {4})*)(?P&lt;name&gt;\S.*)&#39;)
</span><span style="color:#e6db74">    Language:?
</span><span style="color:#e6db74">    ###
</span><span style="color:#e6db74">    Code:doubleSmallNumber x = if x &gt; 100 then x else x*2
</span><span style="color:#e6db74">    Language:Haskell
</span><span style="color:#e6db74">    ###
</span><span style="color:#e6db74">    Code:[ x | x &lt;- [50..100], x `mod` 7 == 3]
</span><span style="color:#e6db74">    Language:Haskell
</span><span style="color:#e6db74">    ###
</span><span style="color:#e6db74">    Code:* TODO Look into =ctrl=
</span><span style="color:#e6db74">    Language:?
</span><span style="color:#e6db74">    ###
</span><span style="color:#e6db74">    &lt;1&gt;
</span><span style="color:#e6db74">    Language:</span>    
<span style="color:#f92672">engine</span>: <span style="color:#e6db74">&#34;davinci&#34;</span>
<span style="color:#f92672">temperature</span>: <span style="color:#ae81ff">0.5</span>
<span style="color:#f92672">max-tokens</span>: <span style="color:#ae81ff">40</span>
<span style="color:#f92672">top-p</span>: <span style="color:#ae81ff">1.0</span>
<span style="color:#f92672">frequency-penalty</span>: <span style="color:#ae81ff">0.5</span>
<span style="color:#75715e"># If I make presence-penalty 0 then it will get very terse</span>
<span style="color:#f92672">presence-penalty</span>: <span style="color:#ae81ff">0.0</span>
<span style="color:#f92672">best-of</span>: <span style="color:#ae81ff">1</span>
<span style="color:#f92672">stop-sequences</span>:
- <span style="color:#e6db74">&#34;###&#34;</span>
<span style="color:#f92672">inject-start-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">inject-restart-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">show-probabilities</span>: <span style="color:#66d9ef">off</span>
<span style="color:#f92672">vars</span>:
- <span style="color:#e6db74">&#34;text&#34;</span>
<span style="color:#f92672">examples</span>:
- |+<span style="color:#e6db74">
</span><span style="color:#e6db74">    </span>    <span style="color:#ae81ff">putStrLn $ &#34;Hey, I Love &#34; ++ city ++ &#34;!&#34;</span>
<span style="color:#f92672">external</span>: <span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#f92672">conversation-mode</span>: <span style="color:#66d9ef">no</span>
<span style="color:#f92672">filter</span>: <span style="color:#66d9ef">no</span>
<span style="color:#75715e"># Keep stitching together until reaching this limit</span>
<span style="color:#75715e"># This allows a full response for answers which may need n*max-tokens to reach the stop-sequence.</span>
<span style="color:#f92672">stitch-max</span>: <span style="color:#ae81ff">0</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="add-code-to-use-gpt-3-to-test-the-selected-text">Add code to use <code>GPT-3</code> to test the selected text</h2>
<p><code>GPT-3</code> will test if the selected text is in the Haskell language.</p>
<p>It will then provide a context menu option to translate it into Clojure.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun gpt-test-haskell ()
  (let ((lang (pen-pf-test-if-text-is-haskell (selection))))
    (<span style="color:#a6e22e">message</span> lang)
    (<span style="color:#a6e22e">string-equal</span> (<span style="color:#a6e22e">message</span> lang) <span style="color:#e6db74">&#34;Haskell&#34;</span>)))

<span style="color:#75715e">;; This is so I can jump here</span>
(defvar right-click-context-global-menu-tree-placeholder <span style="color:#66d9ef">nil</span>)
(setq right-click-context-global-menu-tree
      <span style="color:#f92672">&#39;</span>((<span style="color:#e6db74">&#34;Cancel&#34;</span> :call <span style="color:#a6e22e">identity</span>)
        (<span style="color:#e6db74">&#34;Edit menu&#34;</span> :call (j <span style="color:#e6db74">&#39;right-click-context-global-menu-tree-placeholder</span>))
        (<span style="color:#e6db74">&#34;Button cloud&#34;</span> :call toggle-buttoncloud)
        (<span style="color:#e6db74">&#34;GPT-3&#34;</span>
         (<span style="color:#e6db74">&#34;Convert Haskell to Clojure&#34;</span> :call pen-pf-translate-haskell-to-clojure :if (gpt-test-haskell)))
        (<span style="color:#e6db74">&#34;NLP&#34;</span>
         (<span style="color:#e6db74">&#34;Summarize&#34;</span> :call (progn
                              (<span style="color:#a6e22e">call-interactively</span> <span style="color:#e6db74">&#39;pen-pf-eli5-explain-like-i-m-five</span>)
                              (<span style="color:#a6e22e">call-interactively</span> <span style="color:#e6db74">&#39;fi-text-to-paras</span>)) :if (selected-p))
         (<span style="color:#e6db74">&#34;Vexate&#34;</span> :call (progn
                           (<span style="color:#a6e22e">call-interactively</span> <span style="color:#e6db74">&#39;pen-pf-complicated-explanation-of-how-to-x</span>)
                           (<span style="color:#a6e22e">call-interactively</span> <span style="color:#e6db74">&#39;fi-text-to-paras</span>)) :if (selected-p))
         (<span style="color:#e6db74">&#34;Fast Paras&#34;</span> :call (<span style="color:#a6e22e">call-interactively</span> <span style="color:#e6db74">&#39;fi-text-to-paras-nosegregate</span>) :if (selected-p))
         (<span style="color:#e6db74">&#34;Paras&#34;</span> :call (<span style="color:#a6e22e">call-interactively</span> <span style="color:#e6db74">&#39;fi-text-to-paras</span>) :if (selected-p))
         (<span style="color:#e6db74">&#34;spaCy&#34;</span> :call (<span style="color:#a6e22e">call-interactively</span> <span style="color:#e6db74">&#39;sps-play-spacy</span>) :if (selected-p)))
))</code></pre></td></tr></table>
</div>
</div>
]]></content>
        </item>
        
        <item>
            <title>spaCy in emacs</title>
            <link>http://semiosis.github.io/posts/spacy-in-emacs/</link>
            <pubDate>Tue, 09 Mar 2021 00:00:00 +1300</pubDate>
            
            <guid>http://semiosis.github.io/posts/spacy-in-emacs/</guid>
            <description>Summary I begin construction of an environment for developing with spaCy.
 Goals  spaCy pipeline builder/wizard Select and analyse text with spaCy linguistic features spaCy python playground text selection configuration of spaCy using emacs custom.el    Code generation and bindings 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  (defmacro etv-filter (cmd) (let* ((slug (slugify cmd)) (sym (str2sym (concat &amp;#34;etv-&amp;#34; slug)))) `(defun ,sym (&amp;amp;optional input) (interactive (list (my/selected-text))) (if (not input) (setq input (my/selected-text))) (etv (snc ,cmd input))))) (cl-loop for s in &amp;#39;(&amp;#34;partsofspeech&amp;#34; &amp;#34;entities&amp;#34; &amp;#34;displacy&amp;#34; &amp;#34;token-pos-dep&amp;#34; &amp;#34;sentiment&amp;#34; &amp;#34;segment-sentences&amp;#34;) do (eval (expand-macro `(etv-filter ,s)))) (define-key selected-keymap (kbd &amp;#34;Z n&amp;#34;) &amp;#39;ngram-query-replace) (define-key selected-keymap (kbd &amp;#34;Z S&amp;#34;) &amp;#39;sps-play-spacy) (define-key selected-keymap (kbd &amp;#34;Z P&amp;#34;) &amp;#39;etv-partsofspeech) (define-key selected-keymap (kbd &amp;#34;Z E&amp;#34;) &amp;#39;etv-entities) (define-key selected-keymap (kbd &amp;#34;Z D&amp;#34;) &amp;#39;etv-displacy) (define-key selected-keymap (kbd &amp;#34;Z T&amp;#34;) &amp;#39;etv-token-pos-dep) (define-key selected-keymap (kbd &amp;#34;Z N&amp;#34;) &amp;#39;etv-sentiment) (define-key selected-keymap (kbd &amp;#34;Z G&amp;#34;) &amp;#39;etv-segment-sentences)     Configuration yaml I store the configuration of spaCy inside a yaml file.</description>
            <content type="html"><![CDATA[<h2 id="summary">Summary</h2>
<p>I begin construction of an environment for developing with <code>spaCy</code>.</p>
<ul>
<li>Goals
<ul>
<li><code>spaCy</code> pipeline builder/wizard</li>
<li>Select and analyse text with <code>spaCy</code> linguistic features</li>
<li><code>spaCy</code> python playground text selection</li>
<li>configuration of <code>spaCy</code> using emacs <code>custom.el</code></li>
</ul>
</li>
</ul>
<h2 id="code-generation-and-bindings">Code generation and bindings</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defmacro etv-filter (cmd)
  (let* ((slug (slugify cmd))
         (sym (str2sym (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;etv-&#34;</span> slug))))
    <span style="color:#f92672">`</span>(defun <span style="color:#f92672">,</span>sym (<span style="color:#66d9ef">&amp;optional</span> input)
       (interactive (<span style="color:#a6e22e">list</span> (my/selected-text)))
       (if (not input)
           (setq input (my/selected-text)))
       (etv (snc <span style="color:#f92672">,</span>cmd input)))))

(cl-loop for s in
         <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;partsofspeech&#34;</span>
           <span style="color:#e6db74">&#34;entities&#34;</span>
           <span style="color:#e6db74">&#34;displacy&#34;</span>
           <span style="color:#e6db74">&#34;token-pos-dep&#34;</span>
           <span style="color:#e6db74">&#34;sentiment&#34;</span>
           <span style="color:#e6db74">&#34;segment-sentences&#34;</span>)
         do
         (<span style="color:#a6e22e">eval</span>
          (expand-macro
           <span style="color:#f92672">`</span>(etv-filter <span style="color:#f92672">,</span>s))))

(<span style="color:#a6e22e">define-key</span> selected-keymap (kbd <span style="color:#e6db74">&#34;Z n&#34;</span>) <span style="color:#e6db74">&#39;ngram-query-replace</span>)
(<span style="color:#a6e22e">define-key</span> selected-keymap (kbd <span style="color:#e6db74">&#34;Z S&#34;</span>) <span style="color:#e6db74">&#39;sps-play-spacy</span>)
(<span style="color:#a6e22e">define-key</span> selected-keymap (kbd <span style="color:#e6db74">&#34;Z P&#34;</span>) <span style="color:#e6db74">&#39;etv-partsofspeech</span>)
(<span style="color:#a6e22e">define-key</span> selected-keymap (kbd <span style="color:#e6db74">&#34;Z E&#34;</span>) <span style="color:#e6db74">&#39;etv-entities</span>)
(<span style="color:#a6e22e">define-key</span> selected-keymap (kbd <span style="color:#e6db74">&#34;Z D&#34;</span>) <span style="color:#e6db74">&#39;etv-displacy</span>)
(<span style="color:#a6e22e">define-key</span> selected-keymap (kbd <span style="color:#e6db74">&#34;Z T&#34;</span>) <span style="color:#e6db74">&#39;etv-token-pos-dep</span>)
(<span style="color:#a6e22e">define-key</span> selected-keymap (kbd <span style="color:#e6db74">&#34;Z N&#34;</span>) <span style="color:#e6db74">&#39;etv-sentiment</span>)
(<span style="color:#a6e22e">define-key</span> selected-keymap (kbd <span style="color:#e6db74">&#34;Z G&#34;</span>) <span style="color:#e6db74">&#39;etv-segment-sentences</span>)</code></pre></td></tr></table>
</div>
</div>
<figure>
    <img src="/ox-hugo/spacy-bindings.png"/> 
</figure>

<h2 id="configuration">Configuration</h2>
<h3 id="yaml"><code>yaml</code></h3>
<p>I store the configuration of <code>spaCy</code> inside a <code>yaml</code> file.</p>
<figure>
    <img src="/ox-hugo/spacyconf.png"/> 
</figure>

<h3 id="custom-dot-el"><code>custom.el</code></h3>
<p>I create a customization interface within
emacs for configuring <code>spaCy</code> system-wide.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defcustom spacy-model <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#e6db74">&#34;spaCy model&#34;</span>
  :type <span style="color:#e6db74">&#39;string</span>
  :group <span style="color:#e6db74">&#39;system-custom</span>
  :initialize <span style="color:#a6e22e">#&#39;</span>custom-initialize-default
  :options (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#34;en&#34;</span>
                 <span style="color:#e6db74">&#34;en_core_web_trf&#34;</span>
                 <span style="color:#e6db74">&#34;en_core_web_sm&#34;</span>
                 <span style="color:#e6db74">&#34;en_pytt_bertbaseuncased_lg&#34;</span>
                 <span style="color:#e6db74">&#34;de_core_news_sm&#34;</span>
                 <span style="color:#e6db74">&#34;fr&#34;</span>)
  :set (lambda (_sym value)
         (myrc-set (tr <span style="color:#e6db74">&#34;-&#34;</span> <span style="color:#e6db74">&#34;_&#34;</span> (sym2str _sym)) value)
         (<span style="color:#a6e22e">set</span> _sym (sor value)))
  <span style="color:#75715e">;; The default :initialize is custom-initialize-reset</span>
  <span style="color:#75715e">;; And uses the :set function</span>
  <span style="color:#75715e">;; :initialize (lambda</span>
  :get (lambda (_sym)
         (let* ((yaml (yamlmod-read-file <span style="color:#e6db74">&#34;/home/shane/notes/myrc.yaml&#34;</span>))
                (cfgval (sor (ht-get yaml (tr <span style="color:#e6db74">&#34;-&#34;</span> <span style="color:#e6db74">&#34;_&#34;</span> (sym2str _sym))))))

           (if cfgval
               (<span style="color:#a6e22e">set</span> _sym cfgval)
             <span style="color:#e6db74">&#34;&#34;</span>))))</code></pre></td></tr></table>
</div>
</div>
<figure>
    <img src="/ox-hugo/spacyconf-custom.png"/> 
</figure>

<h2 id="external-scripts">external scripts</h2>
<p>This is an example of one of the exterynal
scripts that is used by and configured with
emacs via a <code>yaml</code> config.</p>
<p><span class="underline"><strong>displacy</strong></span></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#!/usr/bin/env python3</span>
<span style="color:#75715e"># -*- coding: utf-8 -*-</span>

<span style="color:#f92672">import</span> sys
data <span style="color:#f92672">=</span> sys<span style="color:#f92672">.</span>stdin<span style="color:#f92672">.</span>read()

<span style="color:#f92672">import</span> sys
program_name <span style="color:#f92672">=</span> sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">0</span>]
arguments <span style="color:#f92672">=</span> sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">1</span>:]
count <span style="color:#f92672">=</span> len(arguments)

<span style="color:#f92672">import</span> spacy

<span style="color:#f92672">import</span> shanepy
spacy_model <span style="color:#f92672">=</span> shanepy<span style="color:#f92672">.</span>myrc_get(<span style="color:#e6db74">&#34;spacy_model&#34;</span>) <span style="color:#f92672">or</span> <span style="color:#e6db74">&#34;en_core_web_md&#34;</span>
nlp <span style="color:#f92672">=</span> spacy<span style="color:#f92672">.</span>load(spacy_model)

doc <span style="color:#f92672">=</span> nlp(data)
spacy<span style="color:#f92672">.</span>displacy<span style="color:#f92672">.</span>serve(doc, style<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;dep&#39;</span>)</code></pre></td></tr></table>
</div>
</div>
<h2 id="demonstration">Demonstration</h2>
<p>This demonstrates configuration, context
menus, bindings, code generation of scripts
all in emacs.</p>
<p><a title="asciinema recording" href="https://asciinema.org/a/G2RFrnbIiAgYv5uz5lbnYNqxr" target="_blank"><img alt="asciinema recording" src="https://asciinema.org/a/G2RFrnbIiAgYv5uz5lbnYNqxr.svg" /></a></p>
]]></content>
        </item>
        
        <item>
            <title>An operating system based on GPT-3</title>
            <link>http://semiosis.github.io/posts/an-operating-system-based-on-gpt-3/</link>
            <pubDate>Mon, 08 Mar 2021 00:00:00 +1300</pubDate>
            
            <guid>http://semiosis.github.io/posts/an-operating-system-based-on-gpt-3/</guid>
            <description>Reference http://github.com/semiosis/examplary  Summary I assume that GPT-3 or some descendant of it will become the primary interface to the computer.
I create a configuration option to enable / disable GPT-3.
When disabled, the environment will resort to alternative means of performing tasks.
Configuration 1  vim +/&amp;#34;use_gpt3: on&amp;#34; &amp;#34;$NOTES/myrc.yaml&amp;#34;     1  vim +/&amp;#34;summarize) {&amp;#34; &amp;#34;$SCRIPTS/s&amp;#34;   If gpt3 is enabled, filter through OpenAI API abstractive summarizer Otherwise, use sumy.</description>
            <content type="html"><![CDATA[<dl>
<dt>Reference</dt>
<dd><a href="http://github.com/semiosis/examplary">http://github.com/semiosis/examplary</a></dd>
</dl>
<h2 id="summary">Summary</h2>
<p>I assume that <code>GPT-3</code> or some descendant of it
will become the primary interface to the
computer.</p>
<p>I create a configuration option to enable /
disable <code>GPT-3</code>.</p>
<p>When disabled, the environment will resort to
alternative means of performing tasks.</p>
<h2 id="configuration">Configuration</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">vim +/<span style="color:#e6db74">&#34;use_gpt3: on&#34;</span> <span style="color:#e6db74">&#34;</span>$NOTES<span style="color:#e6db74">/myrc.yaml&#34;</span></code></pre></td></tr></table>
</div>
</div>
<figure>
    <img src="/ox-hugo/gpt3-config.png"/> 
</figure>

<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">vim +/<span style="color:#e6db74">&#34;summarize) {&#34;</span> <span style="color:#e6db74">&#34;</span>$SCRIPTS<span style="color:#e6db74">/s&#34;</span></code></pre></td></tr></table>
</div>
</div>
<h3 id="if-gpt3-is-enabled-filter-through-openai-api-abstractive-summarizer">If <code>gpt3</code> is enabled, filter through OpenAI API abstractive summarizer</h3>
<p>Otherwise, use <code>sumy</code>.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">summarize<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">if</span> myrc-test use_gpt3; <span style="color:#66d9ef">then</span>
        openai-complete $MYGIT/semiosis/prompts/prompts/summarize-for-2nd-grader.prompt
    <span style="color:#66d9ef">else</span>
        zsh -c <span style="color:#e6db74">&#34;sumy lex-rank --length=10 --file=&lt;(cat)&#34;</span>
    <span style="color:#66d9ef">fi</span>
<span style="color:#f92672">}</span>
;;</code></pre></td></tr></table>
</div>
</div>
<h2 id="a-demonstration-of-the-entire-workflow">A demonstration of the entire workflow</h2>
<p><a title="asciinema recording" href="https://asciinema.org/a/Fb17RAzSfSJAIksddxwqbsMhZ" target="_blank"><img alt="asciinema recording" src="https://asciinema.org/a/Fb17RAzSfSJAIksddxwqbsMhZ.svg" /></a></p>
<h2 id="a-zettelkasten-of-natural-language-processing-tasks">A Zettelkasten of Natural Language Processing tasks</h2>
<figure>
    <img src="/ox-hugo/org-brain.png"/> 
</figure>

<p>I use <code>org-brain</code> because it enables me to
recall exactly where I am substituting <code>GPT-3</code>
within my scripts.</p>
<p><span class="underline"><strong><code>org-brain</code> demo</strong></span></p>
<p><a title="asciinema recording" href="https://asciinema.org/a/nrqqHWCfc5eG0lj3LPyzO2T2h" target="_blank"><img alt="asciinema recording" src="https://asciinema.org/a/nrqqHWCfc5eG0lj3LPyzO2T2h.svg" /></a></p>
<h2 id="gpt-3-may-be-easily-toggled-via-point-and-click"><code>GPT-3</code> May be easily toggled via point and click</h2>
<figure>
    <img src="/ox-hugo/gpt-toggle.png"/> 
</figure>

]]></content>
        </item>
        
        <item>
            <title>A natural language database using a single GPT prompt</title>
            <link>http://semiosis.github.io/posts/a-natural-language-database-using-a-single-gpt-prompt/</link>
            <pubDate>Sun, 07 Mar 2021 00:00:00 +1300</pubDate>
            
            <guid>http://semiosis.github.io/posts/a-natural-language-database-using-a-single-gpt-prompt/</guid>
            <description>Original article https://www.gwern.net/GPT-3#the-database-prompt  Summary A single prompt describes transactions to and from a database.
GPT-3 is able to answer questions about the transactions that have taken place.
GPT-3 isn&amp;rsquo;t actually a database.
The LM simply understands language so well that describing the transactions that have taken place would naturally lead to the GPT-3 response.
The prompt 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55  title: &amp;#34;database example&amp;#34; doc: &amp;#34;GPT-3 as a NL interface for semantically querying logic in prose&amp;#34; prompt: |+The database begins knowing nothing.</description>
            <content type="html"><![CDATA[<dl>
<dt>Original article</dt>
<dd><a href="https://www.gwern.net/GPT-3#the-database-prompt">https://www.gwern.net/GPT-3#the-database-prompt</a></dd>
</dl>
<h2 id="summary">Summary</h2>
<p>A single prompt describes transactions to and from a database.</p>
<p>GPT-3 is able to answer questions about the
transactions that have taken place.</p>
<p>GPT-3 isn&rsquo;t actually a database.</p>
<p>The LM simply understands language so well
that describing the transactions that have
taken place would naturally lead to the GPT-3
response.</p>
<h2 id="the-prompt">The prompt</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">title</span>: <span style="color:#e6db74">&#34;database example&#34;</span>
<span style="color:#f92672">doc</span>: <span style="color:#e6db74">&#34;GPT-3 as a NL interface for semantically querying logic in prose&#34;</span>
<span style="color:#f92672">prompt</span>: |+<span style="color:#e6db74">
</span><span style="color:#e6db74">    The database begins knowing nothing.
</span><span style="color:#e6db74">    The database knows everything that is added to it.
</span><span style="color:#e6db74">    The database does not know anything else.
</span><span style="color:#e6db74">    When asked a question, if the answer has been added to the database the database says the answer.
</span><span style="color:#e6db74">    When asked a question, if the answer has not been added the database says it does not know.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Q: Does the database know What is 2+2?
</span><span style="color:#e6db74">    A: The database does not know.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Q: Does the database know What is the capital of France?
</span><span style="color:#e6db74">    A: The database does not know.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    &#34;&#34;Tom is 20 years old&#34;&#34; is added to the database.
</span><span style="color:#e6db74">    Nothing else about Tom is added to the database.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Q: Does the database know where Tom lives?
</span><span style="color:#e6db74">    A: The database does not know.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Q: How does the database respond when Toms age?
</span><span style="color:#e6db74">    A: The database says Tom is 20 years old.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Q: How does the database response when asked Whats my age?
</span><span style="color:#e6db74">    A: The database says You are not in the database.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    &#34;&#34;Shane is a cool guy&#34;&#34; is added to the database.
</span><span style="color:#e6db74">    &#34;&#34;Shane is 33 years old&#34;&#34; is added to the database.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Q: &lt;1&gt;
</span><span style="color:#e6db74">    A:</span>    
<span style="color:#f92672">engine</span>: <span style="color:#e6db74">&#34;davinci&#34;</span>
<span style="color:#f92672">temperature</span>: <span style="color:#ae81ff">0.3</span>
<span style="color:#f92672">max-tokens</span>: <span style="color:#ae81ff">60</span>
<span style="color:#f92672">top-p</span>: <span style="color:#ae81ff">1.0</span>
<span style="color:#f92672">frequency-penalty</span>: <span style="color:#ae81ff">0.5</span>
<span style="color:#75715e"># If I make presence-penalty 0 then it will get very terse</span>
<span style="color:#f92672">presence-penalty</span>: <span style="color:#ae81ff">0.0</span>
<span style="color:#f92672">best-of</span>: <span style="color:#ae81ff">1</span>
<span style="color:#f92672">stop-sequences</span>:
- <span style="color:#e6db74">&#34;\n\n&#34;</span>
<span style="color:#f92672">inject-start-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">inject-restart-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">show-probabilities</span>: <span style="color:#66d9ef">off</span>
<span style="color:#f92672">vars</span>:
- <span style="color:#e6db74">&#34;query or input&#34;</span>
<span style="color:#f92672">examples</span>:
- <span style="color:#e6db74">&#34;How old is Shane?&#34;</span>
<span style="color:#f92672">external</span>: <span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#f92672">conversation-mode</span>: <span style="color:#66d9ef">no</span>
<span style="color:#f92672">filter</span>: <span style="color:#66d9ef">no</span>
<span style="color:#75715e"># Keep stitching together until reaching this limit</span>
<span style="color:#75715e"># This allows a full response for answers which may need n*max-tokens to reach the stop-sequence.</span>
<span style="color:#f92672">stitch-max</span>: <span style="color:#ae81ff">0</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="demonstration">Demonstration</h2>
<p>As you can see, the prompt only functions
approximately as a database.</p>
<p>It could certainly be made more reliable
either through adjusting parameters or by
providing better counter-examples.</p>
<p><a title="asciinema recording" href="https://asciinema.org/a/VDkB11XyAMv8kvieuDuONwMUp" target="_blank"><img alt="asciinema recording" src="https://asciinema.org/a/VDkB11XyAMv8kvieuDuONwMUp.svg" /></a></p>
<h2 id="utility">Utility</h2>
<p>This ability of GPT-3 could be used for the
NLP task of information extraction.</p>
]]></content>
        </item>
        
        <item>
            <title>Translating Haskell to Clojure with GPT-3</title>
            <link>http://semiosis.github.io/posts/translating-haskell-to-clojure-with-gpt-3/</link>
            <pubDate>Sun, 07 Mar 2021 00:00:00 +1300</pubDate>
            
            <guid>http://semiosis.github.io/posts/translating-haskell-to-clojure-with-gpt-3/</guid>
            <description>Relevant material https://hyperpolyglot.org/ml  Summary Who needs hyperpolyglot when you have GPT-3?
I translate Haskell into Clojure using the following prompt.
haskell-to-clojure.prompt 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50  title: &amp;#34;Translate Haskell to Clojure&amp;#34; prompt: |+Haskell: zip (map show [1,5,9]) [&amp;#34;a&amp;#34;,&amp;#34;b&amp;#34;,&amp;#34;c&amp;#34;] Clojure: (println (map vector &amp;#39;(1 2 3) &amp;#39;(4 5 6))) Haskell: map toUpper &amp;#34;MiXeD cAsE&amp;#34; Clojure: (clojure.</description>
            <content type="html"><![CDATA[<dl>
<dt>Relevant material</dt>
<dd><a href="https://hyperpolyglot.org/ml">https://hyperpolyglot.org/ml</a></dd>
</dl>
<h2 id="summary">Summary</h2>
<p>Who needs <code>hyperpolyglot</code> when you have <code>GPT-3</code>?</p>
<p>I translate Haskell into Clojure using the following prompt.</p>
<h3 id="haskell-to-clojure-dot-prompt"><code>haskell-to-clojure.prompt</code></h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">title</span>: <span style="color:#e6db74">&#34;Translate Haskell to Clojure&#34;</span>
<span style="color:#f92672">prompt</span>: |+<span style="color:#e6db74">
</span><span style="color:#e6db74">    Haskell:
</span><span style="color:#e6db74">    zip (map show [1,5,9]) [&#34;a&#34;,&#34;b&#34;,&#34;c&#34;]
</span><span style="color:#e6db74">    Clojure:
</span><span style="color:#e6db74">    (println (map vector &#39;(1 2 3) &#39;(4 5 6)))
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Haskell:
</span><span style="color:#e6db74">    map toUpper &#34;MiXeD cAsE&#34;
</span><span style="color:#e6db74">    Clojure:
</span><span style="color:#e6db74">    (clojure.string/upper-case &#34;MiXeD cAsE&#34;)
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Haskell:
</span><span style="color:#e6db74">    putStrLn &#34;Hello World&#34;
</span><span style="color:#e6db74">    Clojure:
</span><span style="color:#e6db74">    (println &#34;Hello World&#34;)
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Haskell:
</span><span style="color:#e6db74">    import Data.Time.Clock
</span><span style="color:#e6db74">    import Data.Time.Calendar
</span><span style="color:#e6db74">    date :: IO (Integer, Int, Int) -- :: (year, month, day)
</span><span style="color:#e6db74">    date = getCurrentTime &gt;&gt;= return . toGregorian . utctDay
</span><span style="color:#e6db74">    Clojure:
</span><span style="color:#e6db74">    (defn date [] (.toString (java.util.Date.)))
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Haskell:
</span><span style="color:#e6db74">    &lt;1&gt;
</span><span style="color:#e6db74">    Clojure:</span>    
<span style="color:#f92672">engine</span>: <span style="color:#e6db74">&#34;davinci&#34;</span>
<span style="color:#f92672">temperature</span>: <span style="color:#ae81ff">0.3</span>
<span style="color:#f92672">max-tokens</span>: <span style="color:#ae81ff">60</span>
<span style="color:#f92672">top-p</span>: <span style="color:#ae81ff">1.0</span>
<span style="color:#f92672">frequency-penalty</span>: <span style="color:#ae81ff">0.5</span>
<span style="color:#75715e"># If I make presence-penalty 0 then it will get very terse</span>
<span style="color:#f92672">presence-penalty</span>: <span style="color:#ae81ff">0.0</span>
<span style="color:#f92672">best-of</span>: <span style="color:#ae81ff">1</span>
<span style="color:#f92672">stop-sequences</span>:
- <span style="color:#e6db74">&#34;\n\n&#34;</span>
<span style="color:#f92672">inject-start-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">inject-restart-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">show-probabilities</span>: <span style="color:#66d9ef">off</span>
<span style="color:#f92672">vars</span>:
- <span style="color:#e6db74">&#34;haskell code&#34;</span>
<span style="color:#f92672">examples</span>:
- <span style="color:#e6db74">&#34;min 1 2&#34;</span>
<span style="color:#f92672">external</span>: <span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#f92672">filter</span>: <span style="color:#66d9ef">no</span>
<span style="color:#75715e"># Keep stitching together until reaching this limit</span>
<span style="color:#75715e"># This allows a full response for answers which may need n*max-tokens to reach the stop-sequence.</span>
<span style="color:#f92672">stitch-max</span>: <span style="color:#ae81ff">0</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="demonstrations">Demonstrations</h2>
<p><a title="asciinema recording" href="https://asciinema.org/a/64hjDdeeqkhTEzZA9RvYjKyy9" target="_blank"><img alt="asciinema recording" src="https://asciinema.org/a/64hjDdeeqkhTEzZA9RvYjKyy9.svg" /></a></p>
<p><a title="asciinema recording" href="https://asciinema.org/a/UknQeVwRejokdRKJEYa7KdNKk" target="_blank"><img alt="asciinema recording" src="https://asciinema.org/a/UknQeVwRejokdRKJEYa7KdNKk.svg" /></a></p>
<h2 id="translate-haskell-into-clojure">Translate Haskell into Clojure</h2>
<p><span class="underline"><strong>Haskell</strong></span></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-haskell" data-lang="haskell"><span style="color:#a6e22e">div</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">3</span></code></pre></td></tr></table>
</div>
</div>
<p><span class="underline"><strong>Clojure</strong></span></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure">(/ <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">3</span>)</code></pre></td></tr></table>
</div>
</div>
<h2 id="it-s-not-perfect">It&rsquo;s not perfect</h2>
<p><span class="underline"><strong>Haskell</strong></span></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-haskell" data-lang="haskell"><span style="color:#a6e22e">z</span> <span style="color:#f92672">=</span> x <span style="color:#f92672">*</span> y
  <span style="color:#66d9ef">where</span> x <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.0</span>
        y <span style="color:#f92672">=</span> <span style="color:#ae81ff">2.0</span> <span style="color:#f92672">*</span> x</code></pre></td></tr></table>
</div>
</div>
<p><span class="underline"><strong>Clojure</strong></span></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure">(<span style="color:#66d9ef">defn </span>z [x y] (* y x))</code></pre></td></tr></table>
</div>
</div>
<h2 id="but-it-s-pretty-good">But it&rsquo;s <strong>pretty good</strong></h2>
<p><span class="underline"><strong>Haskell</strong></span></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-haskell" data-lang="haskell"><span style="color:#66d9ef">let</span> absn <span style="color:#f92672">=</span> <span style="color:#66d9ef">if</span> n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">then</span> <span style="color:#f92672">-</span>n <span style="color:#66d9ef">else</span> n</code></pre></td></tr></table>
</div>
</div>
<p><span class="underline"><strong>Clojure</strong></span></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure">(<span style="color:#66d9ef">defn </span>absn [n] (<span style="color:#66d9ef">if </span>(<span style="color:#a6e22e">negative?</span> n) (- n) n))</code></pre></td></tr></table>
</div>
</div>
]]></content>
        </item>
        
        <item>
            <title>crontab.guru in emacs and making a prompt with GPT-3 to copy it</title>
            <link>http://semiosis.github.io/posts/crontab-guru-in-emacs/</link>
            <pubDate>Sat, 06 Mar 2021 00:00:00 +1300</pubDate>
            
            <guid>http://semiosis.github.io/posts/crontab-guru-in-emacs/</guid>
            <description>Related https://crontab.guru/ Author http://github.com/mullikine  Summary I build some functionality into emacs to use crontab.guru behind the scenes to interpret tab lines displaying inside of emacs, without using the web browser.
I then build a GPT-3 prompt which does exactly the same thing without crontab.guru and provide the initial script I made to examplary (my GPT-3 DSL) as an example generator, to enhance the prompt if that is needed later.</description>
            <content type="html"><![CDATA[<dl>
<dt>Related</dt>
<dd><a href="https://crontab.guru/">https://crontab.guru/</a></dd>
<dt>Author</dt>
<dd><a href="http://github.com/mullikine">http://github.com/mullikine</a></dd>
</dl>
<h2 id="summary">Summary</h2>
<p>I build some functionality into emacs to use
<code>crontab.guru</code> behind the scenes to interpret
tab lines displaying inside of emacs, without
using the web browser.</p>
<p>I then build a GPT-3 prompt which does exactly
the same thing without <code>crontab.guru</code> and
provide the initial script I made to
<code>examplary</code> (my GPT-3 DSL) as an example
generator, to enhance the prompt if that is
needed later.</p>
<h2 id="initial-steps">Initial steps</h2>
<p>When lines in cron format appear in an emacs
buffer, the <code>crontab-guru</code> function is
suggested, allowing you to easily understand
crontabs.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun buffer-cron-lines ()
  (sor (snc <span style="color:#e6db74">&#34;scrape \&#34;((?:[0-9-/]+|\\\\*)\\\\s+){4}(?:[0-9]+|\\\\*)\&#34;&#34;</span> (<span style="color:#a6e22e">buffer-string</span>))))

(defun chrontab-guru (tab)
  (interactive (<span style="color:#a6e22e">list</span> (fz (buffer-cron-lines))))
  (let ((tab (sed <span style="color:#e6db74">&#34;s/\\s\\+/_/g&#34;</span> tab)))
    (chrome (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;https://crontab.guru/#&#34;</span> tab))))</code></pre></td></tr></table>
</div>
</div>
<h2 id="demonstration">Demonstration</h2>
<p><a title="asciinema recording" href="https://asciinema.org/a/dKU8QGolIthb93F8P29NESdn6" target="_blank"><img alt="asciinema recording" src="https://asciinema.org/a/dKU8QGolIthb93F8P29NESdn6.svg" /></a></p>
<figure>
    <img src="/ox-hugo/crontabguru.png"/> 
</figure>

<h2 id="modify-to-display-the-explanation-inside-emacs">Modify to display the explanation inside emacs</h2>
<ul>
<li>Dump the Google Chrome DOM for the website (since it requires javascript)</li>
<li>Scrape the explanation from the website</li>
<li>Create a new buffer in emacs with the explanation</li>
</ul>
<!--listend-->
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun crontab-guru (tab)
  (interactive (<span style="color:#a6e22e">list</span> (fz (buffer-cron-lines) (if (selectionp) (my/thing-at-point)))))
  (let ((tab (sed <span style="color:#e6db74">&#34;s/\\s\\+/_/g&#34;</span> tab)))
    <span style="color:#75715e">;; (chrome (concat &#34;https://crontab.guru/#&#34; tab))</span>
    (etv (scrape <span style="color:#e6db74">&#34;\&#34;[^\&#34;]*\&#34;&#34;</span> (snc (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;elinks-dump-chrome &#34;</span> (q (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;https://crontab.guru/#&#34;</span> tab))))))))</code></pre></td></tr></table>
</div>
</div>
<h2 id="prompt-gpt-3">Prompt GPT-3</h2>
<p>This script is a <code>string-&gt;string</code> filter
script that scrapes the chrome dom of
<code>crontab.guru</code> to get its result, given the tab as standard input.</p>
<p><span class="underline"><strong>interpret-crontab</strong></span></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span>export TTY

<span style="color:#f92672">(</span> hs <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>basename <span style="color:#e6db74">&#34;</span>$0<span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;</span>$@<span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;#&#34;</span> <span style="color:#e6db74">&#34;&lt;==&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>ps -o comm<span style="color:#f92672">=</span> $PPID<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> 0&lt;/dev/null <span style="color:#f92672">)</span> &amp;&gt;/dev/null

scrape-crontab | awk1 | <span style="color:#66d9ef">while</span> IFS<span style="color:#f92672">=</span><span style="color:#e6db74">$&#39;\n&#39;</span> read -r tab; <span style="color:#66d9ef">do</span>
    <span style="color:#f92672">(</span>
        exec 0&lt;/dev/null
        <span style="color:#66d9ef">if</span> test -n <span style="color:#e6db74">&#34;</span>$tab<span style="color:#e6db74">&#34;</span>; <span style="color:#66d9ef">then</span>
            taburlbit<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>p <span style="color:#e6db74">&#34;</span>$tab<span style="color:#e6db74">&#34;</span> | sed <span style="color:#e6db74">&#34;s/\\s\\+/_/g&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
            elinks-dump-chrome <span style="color:#e6db74">&#34;https://crontab.guru/#</span>$taburlbit<span style="color:#e6db74">&#34;</span> | scrape <span style="color:#e6db74">&#34;\&#34;[^\&#34;]*\&#34;&#34;</span>
        <span style="color:#66d9ef">fi</span>
    <span style="color:#f92672">)</span>
<span style="color:#66d9ef">done</span> | sed -e <span style="color:#e6db74">&#39;s/^&#34;//&#39;</span> -e <span style="color:#e6db74">&#39;s/&#34;$//&#39;</span></code></pre></td></tr></table>
</div>
</div>
<p>The following file is a GPT-3 prompt which
accepts the above <code>interpret-crontab</code> script
as an external function to generate and train
and ultimately replace the prompt.</p>
<p><span class="underline"><strong>crontab-translator.prompt</strong></span></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">title</span>: <span style="color:#e6db74">&#34;crontab translator&#34;</span>
<span style="color:#f92672">prompt</span>: |+<span style="color:#e6db74">
</span><span style="color:#e6db74">  crontab
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  17 *	* * *
</span><span style="color:#e6db74">  At minute 17.
</span><span style="color:#e6db74">  ###
</span><span style="color:#e6db74">  25 6	* * *
</span><span style="color:#e6db74">  At 06:25.
</span><span style="color:#e6db74">  ###
</span><span style="color:#e6db74">  47 6	* * 7
</span><span style="color:#e6db74">  At 06:47 on Sunday.
</span><span style="color:#e6db74">  ###
</span><span style="color:#e6db74">  52 6	1 * *
</span><span style="color:#e6db74">  At 06:52 on day-of-month 1.
</span><span style="color:#e6db74">  &lt;1&gt;</span>  
<span style="color:#f92672">engine</span>: <span style="color:#e6db74">&#34;davinci&#34;</span>
<span style="color:#f92672">temperature</span>: <span style="color:#ae81ff">0.3</span>
<span style="color:#f92672">max-tokens</span>: <span style="color:#ae81ff">60</span>
<span style="color:#f92672">top-p</span>: <span style="color:#ae81ff">1.0</span>
<span style="color:#f92672">frequency-penalty</span>: <span style="color:#ae81ff">0.5</span>
<span style="color:#75715e"># If I make presence-penalty 0 then it will get very terse</span>
<span style="color:#f92672">presence-penalty</span>: <span style="color:#ae81ff">0.0</span>
<span style="color:#f92672">best-of</span>: <span style="color:#ae81ff">1</span>
<span style="color:#f92672">stop-sequences</span>:
- <span style="color:#e6db74">&#34;###&#34;</span>
<span style="color:#f92672">inject-start-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">inject-restart-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">show-probabilities</span>: <span style="color:#66d9ef">off</span>
<span style="color:#f92672">vars</span>:
- <span style="color:#e6db74">&#34;tab&#34;</span>
<span style="color:#f92672">examples</span>:
- <span style="color:#e6db74">&#34;30 7    * * *&#34;</span>
<span style="color:#f92672">external</span>: <span style="color:#e6db74">&#34;interpret-crontab&#34;</span>
<span style="color:#f92672">filter</span>: <span style="color:#66d9ef">no</span>
<span style="color:#75715e"># Keep stitching together until reaching this limit</span>
<span style="color:#75715e"># This allows a full response for answers which may need n*max-tokens to reach the stop-sequence.</span>
<span style="color:#f92672">stitch-max</span>: <span style="color:#ae81ff">0</span></code></pre></td></tr></table>
</div>
</div>
<p>Example output from GPT-3:</p>
<dl>
<dt>Input tab</dt>
<dd><code>15 7    * * *</code></dd>
<dt>GPT-3 output</dt>
<dd><code>On day-of-week 7, at 15:00.</code></dd>
</dl>
<h2 id="moral-of-the-story">Moral of the story</h2>
<p>The moral of the story is that if a person
builds a website like crontab.guru, its
functionality actually becomes learned by the
next iteration of GPT and then its
functionality is able to be reproduced.</p>
]]></content>
        </item>
        
        <item>
            <title>Creating a playground for GPT-3 in emacs</title>
            <link>http://semiosis.github.io/posts/creating-a-playground-for-gpt-3-in-emacs/</link>
            <pubDate>Thu, 18 Feb 2021 00:00:00 +1300</pubDate>
            
            <guid>http://semiosis.github.io/posts/creating-a-playground-for-gpt-3-in-emacs/</guid>
            <description>Code https://github.com/mullikine/pen.el Prompts https://github.com/mullikine/prompts meetup.com event https://www.meetup.com/Code-Craft-Dunedin/events/276407816/ Slides http://github.com/mullikine/presentation-prompt-engineering-in-emacs/blob/master/presentation.pdf  Demonstration 
Prompt-Engineering Part 1: Building an environment Summary of talk I received a key for the OpenAI API 2 weeks ago, just a couple of days before my birthday.
I had applied around 5 to 10 times in the last year and I had finally been given a key.
I decided since the hour is late I would work on productivity tools that anyone can use, to facilitate programming in the new paradigm.</description>
            <content type="html"><![CDATA[<dl>
<dt>Code</dt>
<dd><a href="https://github.com/mullikine/pen.el">https://github.com/mullikine/pen.el</a></dd>
<dt>Prompts</dt>
<dd><a href="https://github.com/mullikine/prompts">https://github.com/mullikine/prompts</a></dd>
<dt><code>meetup.com</code> event</dt>
<dd><a href="https://www.meetup.com/Code-Craft-Dunedin/events/276407816/">https://www.meetup.com/Code-Craft-Dunedin/events/276407816/</a></dd>
<dt>Slides</dt>
<dd><a href="http://github.com/mullikine/presentation-prompt-engineering-in-emacs/blob/master/presentation.pdf">http://github.com/mullikine/presentation-prompt-engineering-in-emacs/blob/master/presentation.pdf</a></dd>
</dl>
<h3 id="demonstration">Demonstration</h3>
<p><a title="asciinema recording" href="https://asciinema.org/a/t7ATnFpnfzBp0yicIlGCt6eXi" target="_blank"><img alt="asciinema recording" src="https://asciinema.org/a/t7ATnFpnfzBp0yicIlGCt6eXi.svg" /></a></p>
<h2 id="prompt-engineering-part-1-building-an-environment"><strong>Prompt-Engineering Part 1:</strong> Building an environment</h2>
<h3 id="summary-of-talk">Summary of talk</h3>
<p>I received a key for the <code>OpenAI</code> API 2 weeks ago, just a couple
of days before my birthday.</p>
<p>I had applied around 5 to 10 times in the last
year and I had finally been given a key.</p>
<p>I decided since the hour is late I would work
on productivity tools that anyone can use, to
facilitate programming in the new paradigm.</p>
<h3 id="pen-dot-el-prompt-engineering-in-emacs"><code>pen.el</code> : Prompt engineering in emacs</h3>
<h4 id="prompt-engineer-mode"><code>prompt-engineer-mode</code></h4>
<p>Prompt-Engineer Mode is a global minor mode for emacs that facilitates the
creation, development, discovery and usage of prompts in your emacs.</p>
<ul>
<li>Create elisp functions based on GPT-3 prompts</li>
<li>Chain GPT-3 queries together using keyboard macros and functions</li>
<li>Interactively query, generate and transfrom both prose and code</li>
<li>Use GPT-3 as a search engine within emacs
<ul>
<li>Search the internet</li>
<li>Search documents
<ul>
<li><a href="https://beta.openai.com/docs/introduction/semantic-search">https://beta.openai.com/docs/introduction/semantic-search</a></li>
<li><a href="https://gpttools.com/semanticsearch">https://gpttools.com/semanticsearch</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="works-with">Works with</h3>
<ul>
<li>OpenAI API (GPT-3)
<ul>
<li><a href="https://beta.openai.com/">https://beta.openai.com/</a></li>
</ul>
</li>
</ul>
<h4 id="planned">Planned</h4>
<ul>
<li><code>openai-server</code> (GPT-2)
<ul>
<li><a href="https://github.com/shawwn/openai-server">https://github.com/shawwn/openai-server</a></li>
<li>Requires tensorflow 1</li>
</ul>
</li>
<li>DeepAI API
<ul>
<li><a href="https://deepai.org/">https://deepai.org/</a></li>
</ul>
</li>
<li>OpenAI API (GPT-4)
<ul>
<li><a href="https://beta.openai.com/">https://beta.openai.com/</a></li>
</ul>
</li>
</ul>
<h3 id="usage-workflow">Usage / Workflow</h3>
<ul>
<li>Enable <code>prompt-engineerer-mode</code> globally (on all buffers)</li>
<li>Have your <code>.prompt</code> file open in one window</li>
<li>Have the document open you want to apply prompt functions to
<ul>
<li>This could be source code, a chat window, or any kind of text document.</li>
</ul>
</li>
<li>Apply functions to do all sorts of things
<ul>
<li>Summarization</li>
<li>Generation of prose</li>
<li>Generation of code</li>
<li>Translation</li>
</ul>
</li>
</ul>
<h3 id="defining-a-yaml-format">Defining a <code>YAML</code> format</h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#75715e"># lines are wrapped, but not in actual prompt</span>

<span style="color:#f92672">title</span>: <span style="color:#e6db74">&#34;complicated explanation of how to X&#34;</span>
<span style="color:#f92672">prompt</span>: |+<span style="color:#e6db74">
</span><span style="color:#e6db74">  The human asks the AI to make a simple
</span><span style="color:#e6db74">      description more complicated. The AI
</span><span style="color:#e6db74">      responds by writing a verbose response full
</span><span style="color:#e6db74">      of jargon to explain a simple concept.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  Human: explain how to use a drinking
</span><span style="color:#e6db74">      fountain.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  AI: To activate the mechanized dihydrogen
</span><span style="color:#e6db74">      monoxide dispensary service station, use the
</span><span style="color:#e6db74">      flanges to provide a downward force to the
</span><span style="color:#e6db74">      simple circular activation console and
</span><span style="color:#e6db74">      continue to apply force until the pneumatic
</span><span style="color:#e6db74">      system begins operating as intended, which
</span><span style="color:#e6db74">      can be surmised at a time when the
</span><span style="color:#e6db74">      dihydrogen monoxide travels in a parabolic
</span><span style="color:#e6db74">      arc which at is greatest exceeds three
</span><span style="color:#e6db74">      inches from the rounded excess liquid
</span><span style="color:#e6db74">      receptacle. Once hydration is completed,
</span><span style="color:#e6db74">      cease applying force to the console and
</span><span style="color:#e6db74">      regard whether or not the dispensary has
</span><span style="color:#e6db74">      ceased expelling contents as expected.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  Human: explain how to play with a dog
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  AI: Being a typical domesticated animal,
</span><span style="color:#e6db74">      having been genetically selected for
</span><span style="color:#e6db74">      controllability, trainability, and general
</span><span style="color:#e6db74">      anthropomorphic features and functions, the
</span><span style="color:#e6db74">      typical dog possesses highly specialized and
</span><span style="color:#e6db74">      developed feeding behavior. The typical
</span><span style="color:#e6db74">      feeding behavior involves routine sustenance
</span><span style="color:#e6db74">      intake which can be observed by monitoring
</span><span style="color:#e6db74">      changes in animal size. Routine sustenance
</span><span style="color:#e6db74">      intake involves active and passive feeding
</span><span style="color:#e6db74">      habits, and one can gauge animal health by
</span><span style="color:#e6db74">      observing the relative levels of hydration.
</span><span style="color:#e6db74">      During training, reward conditioned
</span><span style="color:#e6db74">      reinforcement is applied. This involves the
</span><span style="color:#e6db74">      practice of rewarding targeted behaviors
</span><span style="color:#e6db74">      through the application of reinforcers, with
</span><span style="color:#e6db74">      the provision that the targeted behavior is
</span><span style="color:#e6db74">      observed. Relevant to the discussion at hand
</span><span style="color:#e6db74">      is the typical active and passive behavior
</span><span style="color:#e6db74">      exhibited by a typical dog.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  Human: explain how to &lt;1&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  AI:</span>  
<span style="color:#f92672">engine</span>: <span style="color:#e6db74">&#34;davinci&#34;</span>
<span style="color:#f92672">temperature</span>: <span style="color:#ae81ff">0.8</span>
<span style="color:#f92672">max-tokens</span>: <span style="color:#ae81ff">100</span>
<span style="color:#f92672">top-p</span>: <span style="color:#ae81ff">1</span>
<span style="color:#f92672">frequency-penalty</span>: <span style="color:#ae81ff">0.2</span>
<span style="color:#f92672">presence-penalty</span>: <span style="color:#ae81ff">0.4</span>
<span style="color:#f92672">best-of</span>: <span style="color:#ae81ff">1</span>
<span style="color:#f92672">stop-sequences</span>:
  - <span style="color:#e6db74">&#34;\n&#34;</span>
<span style="color:#f92672">inject-start-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">inject-restart-text</span>: <span style="color:#66d9ef">yes</span>
<span style="color:#f92672">show-probabilities</span>: <span style="color:#66d9ef">off</span>
<span style="color:#f92672">vars</span>:
  - <span style="color:#e6db74">&#34;passage&#34;</span></code></pre></td></tr></table>
</div>
</div>
<h3 id="code-generation">Code generation</h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun pen-generate-prompt-functions ()
  <span style="color:#e6db74">&#34;Generate prompt functions for the files in the prompts directory&#34;</span>
  (interactive)
  (let ((paths
         (glob (<span style="color:#a6e22e">concat</span> pen-prompt-directory <span style="color:#e6db74">&#34;/*.prompt&#34;</span>))))
    (cl-loop for path in paths do
             <span style="color:#75715e">;; results in a hash table</span>
             (let* ((yaml (yamlmod-read-file path))
                    (title (ht-get yaml <span style="color:#e6db74">&#34;title&#34;</span>))
                    (title-slug (slugify title))
                    (vars (vector2list (ht-get yaml <span style="color:#e6db74">&#34;vars&#34;</span>)))
                    (var-slugs (<span style="color:#a6e22e">mapcar</span> <span style="color:#e6db74">&#39;slugify</span> vars))
                    (var-syms (<span style="color:#a6e22e">mapcar</span> <span style="color:#e6db74">&#39;str2sym</span> var-slugs))
                    (func-name (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;pen-&#34;</span> title-slug))
                    (iargs (let ((iteration <span style="color:#ae81ff">0</span>))
                             (cl-loop for v in vars do
                                      (progn
                                        (setq iteration (<span style="color:#a6e22e">+</span> <span style="color:#ae81ff">1</span> iteration))
                                        (<span style="color:#a6e22e">message</span> (str iteration)))
                                      collect
                                      (if (<span style="color:#a6e22e">equal</span> <span style="color:#ae81ff">1</span> iteration)
                                          <span style="color:#75715e">;; The first argument may be captured through selection</span>
                                          <span style="color:#f92672">`</span>(if (selectionp)
                                               (my/selected-text)
                                             (read-string-hist <span style="color:#f92672">,</span>(<span style="color:#a6e22e">concat</span> v <span style="color:#e6db74">&#34;: &#34;</span>)))
                                        <span style="color:#f92672">`</span>(read-string-hist <span style="color:#f92672">,</span>(<span style="color:#a6e22e">concat</span> v <span style="color:#e6db74">&#34;: &#34;</span>)))))))
               <span style="color:#75715e">;; var names will have to be slugged, too</span>
               (<span style="color:#a6e22e">eval</span>
                <span style="color:#f92672">`</span>(defun <span style="color:#f92672">,</span>(str2sym func-name) <span style="color:#f92672">,</span>var-syms
                   (interactive <span style="color:#f92672">,</span>(<span style="color:#a6e22e">cons</span> <span style="color:#e6db74">&#39;list</span> iargs))
                   (etv (chomp (sn <span style="color:#f92672">,</span>(flatten-once
                                     (<span style="color:#a6e22e">list</span>
                                      (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;concat</span> <span style="color:#e6db74">&#34;openai-complete &#34;</span> (q path))
                                      (flatten-once (cl-loop for vs in var-slugs collect
                                                             (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#34; &#34;</span>
                                                                   (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#39;q</span> (str2sym vs))))))))))))
               (<span style="color:#a6e22e">message</span> (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;pen-mode: Loaded prompt function &#34;</span> func-name))))))</code></pre></td></tr></table>
</div>
</div>
<h3 id="appendix">Appendix</h3>
<p><a href="https://www.google.com/search?q=prompt+engineering+gpt">Prompt Engineering</a></p>
<h3 id="examples">Examples</h3>
<h4 id="create-analogy">Create analogy</h4>
<!--list-separator-->
<ul>
<li>
<p>earth is like the universe</p>
<p>they are both governed by the laws of physics.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>vim is like emacs</p>
<p>both are computer text editors.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Cars are like trains</p>
<p>both travel on tracks.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>dolphins are like people</p>
<p>They are both members of the class Mammalia.</p>
</li>
</ul>
<h4 id="abstractive-summarization">abstractive summarization</h4>
<!--list-separator-->
<ul>
<li>
<p>computers</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">    Early computers were only conceived as
    calculating devices. Since ancient times,
    simple manual devices like the abacus aided
    people in doing calculations. Early in the
    Industrial Revolution, some mechanical devices
    were built to automate long tedious tasks,
    such as guiding patterns for looms. More
    sophisticated electrical machines did
    specialized analog calculations in the early
    20th century. The first digital electronic
    calculating machines were developed during
    World War II. The first semiconductor
    transistors in the late 1940s were followed by
    the silicon-based MOSFET (MOS transistor) and
    monolithic integrated circuit (IC) chip
    technologies in the late 1950s, leading to the
    microprocessor and the microcomputer
    revolution in the 1970s. The speed, power and
    versatility of computers have been increasing
    dramatically ever since then, with transistor
    counts increasing at a rapid pace (as
    predicted by Moore&#39;s law), leading to the
    Digital Revolution during the late 20th to
    early 21st centuries.
    </code></pre></td></tr></table>
</div>
</div>
 <!--list-separator-->
<ul>
<li>
<p>Simplification 1</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">        Computers were invented to do math. Before
        computers, people used a tool called a slide
        rule to do math. Slide rules were hard to use,
        so people invented a new tool called a
        calculator. Calculators were hard to use, so
        people invented a new tool called a computer.
        Computers were hard to use, so people invented
        a new tool called a computer with a screen.
        Computers with screens were hard to use, so
        people invented a new tool called a computer
        you can touch
        </code></pre></td></tr></table>
</div>
</div>
</li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>Simplification 2 &ndash; I like this one</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">        Computers were invented to help people do math.
        People have been using simple machines like the abacus to help them do math for a long time.
        More complicated machines helped people do math faster.
        Now people can do math faster with computers.
        </code></pre></td></tr></table>
</div>
</div>
</li>
</ul>
</li>
</ul>
<h3 id="back-end">Back-end</h3>
<h4 id="shell">shell</h4>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">81
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span>export TTY

<span style="color:#f92672">(</span> hs <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>basename <span style="color:#e6db74">&#34;</span>$0<span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;</span>$@<span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;#&#34;</span> <span style="color:#e6db74">&#34;&lt;==&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>ps -o comm<span style="color:#f92672">=</span> $PPID<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> 0&lt;/dev/null <span style="color:#f92672">)</span> &amp;&gt;/dev/null

first_arg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span>

stdin_exists<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    ! <span style="color:#f92672">[</span> -t <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> ! test <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>readlink /proc/$$/fd/0<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">=</span> /dev/null
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">if</span> stdin_exists; <span style="color:#66d9ef">then</span>
    <span style="color:#75715e"># The stdin can be the first argument</span>
    set -- <span style="color:#e6db74">&#34;</span>$@<span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat | chomp<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">fi</span>

test -f <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">||</span> exit
shift

prompt<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> | yq -r <span style="color:#e6db74">&#34;.prompt // empty&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
stop_sequence<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> | yq <span style="color:#e6db74">&#34;.\&#34;stop-sequences\&#34;[0] // empty&#34;</span> | uq | qne<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
temperature<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> | yq -r <span style="color:#e6db74">&#34;.\&#34;temperature\&#34; // empty&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
engine<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> | yq -r <span style="color:#e6db74">&#34;.\&#34;engine\&#34; // empty&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
max_tokens<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> | yq -r <span style="color:#e6db74">&#34;.\&#34;max-tokens\&#34; // empty&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
top_p<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$first_arg<span style="color:#e6db74">&#34;</span> | yq -r <span style="color:#e6db74">&#34;.\&#34;top-p\&#34; // empty&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

test -n <span style="color:#e6db74">&#34;</span>$prompt<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">||</span> exit <span style="color:#ae81ff">0</span>

<span style="color:#66d9ef">while</span> <span style="color:#f92672">[</span> $# -gt <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">do</span> opt<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span>; <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;</span>$opt<span style="color:#e6db74">&#34;</span> in
    <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span> shift; <span style="color:#f92672">}</span>; ;;
    -e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        engine<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$2<span style="color:#e6db74">&#34;</span>
        shift
        shift
    <span style="color:#f92672">}</span>
    ;;

    *<span style="color:#f92672">)</span> break;
<span style="color:#66d9ef">esac</span>; <span style="color:#66d9ef">done</span>

: <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>engine:=<span style="color:#e6db74">&#34;ada&#34;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
: <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>temperature:=<span style="color:#e6db74">&#34;0.6&#34;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
: <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>max_tokens:=<span style="color:#e6db74">&#34;64&#34;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>

: <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>sub_completions:=<span style="color:#e6db74">&#34;1&#34;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>

i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">for</span> var in <span style="color:#e6db74">&#34;</span>$@<span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">do</span>
    var<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>printf -- <span style="color:#e6db74">&#34;%s&#34;</span> <span style="color:#e6db74">&#34;</span>$var<span style="color:#e6db74">&#34;</span> | uq | chomp<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
    prompt<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>p <span style="color:#e6db74">&#34;</span>$prompt<span style="color:#e6db74">&#34;</span> | template -$i <span style="color:#e6db74">&#34;</span>$var<span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
    <span style="color:#f92672">((</span>i++<span style="color:#f92672">))</span>
<span style="color:#66d9ef">done</span>

prompt_fp<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>printf -- <span style="color:#e6db74">&#34;%s&#34;</span> <span style="color:#e6db74">&#34;</span>$prompt<span style="color:#e6db74">&#34;</span> | chomp | tf<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

<span style="color:#75715e"># printf -- &#34;%s\n&#34; &#34;$prompt&#34; | tv</span>

prompt<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>p <span style="color:#e6db74">&#34;</span>$prompt<span style="color:#e6db74">&#34;</span> | qne<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

IFS<span style="color:#f92672">=</span> read -r -d <span style="color:#e6db74">&#39;&#39;</span> SHCODE <span style="color:#e6db74">&lt;&lt;HEREDOC
</span><span style="color:#e6db74">openai api \
</span><span style="color:#e6db74">    completions.create \
</span><span style="color:#e6db74">    -e &#34;$engine&#34; \
</span><span style="color:#e6db74">    -t &#34;$temperature&#34; \
</span><span style="color:#e6db74">    -M &#34;$max_tokens&#34; \
</span><span style="color:#e6db74">    -n &#34;$sub_completions&#34; \
</span><span style="color:#e6db74">    $(
</span><span style="color:#e6db74">        if test -n &#34;$stop_sequence&#34;; then
</span><span style="color:#e6db74">            printf -- &#34;%s&#34; &#34;--stop \&#34;$stop_sequence\&#34;&#34;
</span><span style="color:#e6db74">        fi
</span><span style="color:#e6db74">    ) \
</span><span style="color:#e6db74">    -p &#34;$prompt&#34;
</span><span style="color:#e6db74">HEREDOC</span>

response_fp<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>eval <span style="color:#e6db74">&#34;</span>$SHCODE<span style="color:#e6db74">&#34;</span> | uq | s chomp | tf txt<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

prompt_bytes<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$prompt_fp<span style="color:#e6db74">&#34;</span> | wc -c<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
response_bytes<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat <span style="color:#e6db74">&#34;</span>$response_fp<span style="color:#e6db74">&#34;</span> | wc -c<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>

tail -c +<span style="color:#66d9ef">$((</span>prompt_bytes <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span><span style="color:#66d9ef">))</span> <span style="color:#e6db74">&#34;</span>$response_fp<span style="color:#e6db74">&#34;</span></code></pre></td></tr></table>
</div>
</div>
<h3 id="additional-reading">Additional reading</h3>
<ul>
<li><a href="https://www.overfit.ai/classroom-items/gpt-3-text-to-emoji">https://www.overfit.ai/classroom-items/gpt-3-text-to-emoji</a></li>
<li><a href="https://www.gwern.net/GPT-3">https://www.gwern.net/GPT-3</a></li>
<li><a href="https://matthewmcateer.me/blog/messing-with-gpt-3/">https://matthewmcateer.me/blog/messing-with-gpt-3/</a></li>
<li><a href="https://youtu.be/fTvB5xMNfTY">#029 GPT-3, Prompt Engineering, Trading, AI Alignment, Intelligence - YouTube</a></li>
<li><a href="https://github.com/mullikine/examplary">https://github.com/mullikine/examplary</a></li>
<li><a href="https://github.com/mullikine/prompt-engineer-mode">https://github.com/mullikine/prompt-engineer-mode</a></li>
<li><a href="http://github.com/mullikine/fine-tuning-gpt-3/puns/">http://github.com/mullikine/fine-tuning-gpt-3/puns/</a></li>
</ul>
]]></content>
        </item>
        
    </channel>
</rss>
